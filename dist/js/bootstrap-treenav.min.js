if(!jQuery)throw new Error("Bootstrap Tree Nav requires jQuery");+function(a){"use strict";var b=function(b){var c=[];return a(b).children("div").each(function(){a.each(this.attributes,function(){this.specified&&this.name.includes("data-")&&(c[this.name.replace("data-","")]=this.value)})}),c},c=function(c){a.touchtime=0,a(".nav-tree > li").off("click").on("click",function(d){return 0===a.touchtime?a.touchtime=(new Date).getTime():(new Date).getTime()-a.touchtime<800?("function"==typeof c.doubleTap&&c.doubleTap(d,b(this)),a.touchtime=0):a.touchtime=0,!1})},d=function(a,b,c){var e="undefined"!=typeof a.children,f="",g="";if(Object.keys(a).forEach(function(b){if("children"!==b){var c=a[b];null!==c&&(f=f+"data-"+b+'="'+c+'" ')}}),g="<ul>\n",e){var h=[];Object.keys(a.children).forEach(function(e){var f=a.children[e],g=c+1;h[f[b.orderMember]]=d(f,b,g)+"\n"}),h.forEach(function(a){g+=a}),f=f+'data-badge="'+(h.length-1)+'" '}return g+="</ul>",'<li><div class="contentElement" '+f+'><a href="#" >'+a.name+"</a></div>"+g+"</li>"},e=function(b){var c=a(b).children("div").children("span.opener");c.removeClass("closed").addClass("opened"),a(b).children("ul").first().slideDown("fast")},f=function(b){var c=a(b).children("div").children("span.opener");c.removeClass("opened").addClass("closed"),a(b).children("ul").first().slideUp("fast")},g=function(b,c){a(b).children("div").children("span.badge").remove(),c.createBadge&&"undefined"!=typeof a(b).children("div").attr("data-badge")&&a(b).children("div").attr("data-badge")>0&&a(b).children("div").append('<span class="badge pull-right">'+a(b).children("div").attr("data-badge")+"</span>")},h=function(b,c,d){a(b).children("div").children("span.opener").remove();var g=a(b).children("ul");g.length>0&&g.children().length&&(a(b).children("div").prepend('<span class="opener '+d+'"><span class="tree-icon-closed"><i class="'+c.navTreeCollapsed+' aria-hidden="true"></i></span><span class="tree-icon-opened"><i class="'+c.navTreeExpanded+'"></i></span></span>'),a(b).children("div").children("a").first().off("click.bs.tree").on("click.bs.tree",function(c){c.preventDefault();var d=a(this).children("span.opener").first();d.hasClass("closed")?(e(b),"#"!==a(this).children("a").attr("href")&&""!==a(this).children("a").attr("href")&&a(this).off("click.bs.tree")):f(b)}),a(b).children("div").children("span.opener").off("click.bs.tree").on("click.bs.tree",function(c){var d=a(this);d.hasClass("closed")?e(b):f(b)}))},i=function(b,c){var d=a(b).children("ul");d.removeClass("nav nav-pills nav-stacked nav-tree").addClass("nav nav-pills nav-stacked nav-tree"),d.hide(),h(b,c,"closed")},j=function(b,c){var d=a(b),e=d.find("li");d.removeClass("nav nav-pills nav-stacked nav-tree").addClass("nav nav-pills nav-stacked nav-tree"),e.each(function(b,d){i(a(d),c),g(d,c),a(d).hasClass("active")&&a(d).parents("ul").each(function(b,c){a(c).show(),a(c).siblings("div").children("span.opener").first().removeClass("closed").addClass("opened"),"#"!==a(c).find("a").attr("href")&&""!==a(c).find("a").attr("href")&&a(c).siblings("a").off("click.bs.tree")})})};a("ul[data-toggle=nav-tree]").each(function(){var b;b=a(this),b.navTree(b.data())});var k=function(b,c){var d=0;a(b).removeClass("nav nav-pills nav-stacked nav-tree").addClass("nav nav-pills nav-stacked nav-tree"),a(b).children().each(function(){var b=a(this).children("div");b.attr("data-"+c.orderMember,d),k(a(this).children("ul").first(),c),d++,c.createBadge&&(b.attr("data-badge",a(this).children("ul").first().children().length),g(this,c),h(this,c,"opened"))})},l=function(b,c){a(b).children("ul").nestedSortable({listType:"ul",forcePlaceholderSize:!0,handle:"div",helper:"clone",items:"li",opacity:.6,placeholder:"placeholder",revert:250,tabSize:25,tolerance:"pointer",toleranceElement:"> div",maxLevels:4,isTree:!0,expandOnHover:700,startCollapsed:!1,relocate:function(d,e){k(a(b).children("ul"),c)}})};a.fn.navTree=function(b){var e={navTreeExpanded:"fa fa-plus-square",navTreeCollapsed:"fa fa-minus-square",orderMember:"orden",doubleTap:function(a,b){},enableDragDrop:!1,source:null,createBadge:!1},f=a.extend(e,b);if(f.enableDragDrop&&"function"!=typeof a.fn.nestedSortable)throw new Error("Bootstrap Tree Nav drag and drop requires jquery-ui-nestedSortable plugin");"LI"===a(this).prop("tagName")?j(this,f):"UL"===a(this).prop("tagName")?j(this,f):"DIV"===a(this).prop("tagName")&&(jQuery(this).html('<ul class="nav nav-pills nav-stacked nav-tree" id="myTree" data-toggle="nav-tree">'+d(f.source,f)+"</ul>"),f.enableDragDrop&&l(this,f),j(this,f)),c(f)}}(window.jQuery);