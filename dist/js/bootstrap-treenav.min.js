/**
* bootstrap-treenav.js v1.0.1 by @morrissinger
* Copyright 2016 Morris Singer
* http://www.apache.org/licenses/LICENSE-2.0
*/
if(!jQuery)throw new Error("Bootstrap Tree Nav requires jQuery");if(!jQuery)throw new Error("Bootstrap Tree Nav requires jQuery");+function(a){"use strict";a.fn.navTree=function(c){var f={navTreeExpanded:"fa fa-plus-square",navTreeCollapsed:"fa fa-minus-square",orderMember:"orden",doubleTap:function(a,b){},enableDragDrop:!1,source:null,createBadge:!1},g=a.extend(f,c);if(g.enableDragDrop&&"function"!=typeof a.fn.nestedSortable)throw new Error("Bootstrap Tree Nav drag and drop requires jquery-ui-nestedSortable plugin");"LI"===a(this).prop("tagName")?e(this,g):"UL"===a(this).prop("tagName")?e(this,g):"DIV"===a(this).prop("tagName")&&(jQuery(this).html('<ul class="nav nav-pills nav-stacked nav-tree" id="myTree" data-toggle="nav-tree">'+d(g.source,g)+"</ul>"),g.enableDragDrop&&a(this).children("ul").nestedSortable({listType:"ul",forcePlaceholderSize:!0,handle:"div",helper:"clone",items:"li",opacity:.6,placeholder:"placeholder",revert:250,tabSize:25,tolerance:"pointer",toleranceElement:"> div",maxLevels:4,isTree:!0,expandOnHover:700,startCollapsed:!1,change:function(){console.log("Relocated item")}}),e(this,g)),b(g)};var b=function(b){a.touchtime=0,a(".nav-tree > li").off("click").on("click",function(d){return 0===a.touchtime?a.touchtime=(new Date).getTime():(new Date).getTime()-a.touchtime<800?("function"==typeof b.doubleTap&&b.doubleTap(d,c(this)),a.touchtime=0):a.touchtime=0,!1})},c=function(b){var c=[];return a(b).children("div").each(function(){a.each(this.attributes,function(){this.specified&&this.name.includes("data-")&&(c[this.name.replace("data-","")]=this.value)})}),c},d=function(a,b,c){var e="undefined"!=typeof a.children,f="",g="";if(Object.keys(a).forEach(function(b){if("children"!==b){var c=a[b];null!==c&&(f=f+"data-"+b+'="'+c+'" ')}}),e){var h=[];Object.keys(a.children).forEach(function(e){var f=a.children[e],g=c+1;h[f[b.orderMember]]=d(f,b,g)+"\n"}),g='<ul class="nav nav-pills nav-stacked nav-tree">\n',h.forEach(function(a){g+=a}),g+="</ul>",f=f+'data-badge="'+(h.length-1)+'" '}return'<li><div class="contentElement" '+f+'><a href="#" >'+a.name+"</a></div>"+g+"</li>"},e=function(b,c){var d=a(b).find("li");d.each(function(b,d){f(a(d),c),c.createBadge&&"undefined"!=typeof a(d).children("div").attr("data-badge")&&a(d).children("div").append('<span class="badge pull-right">'+a(d).children("div").attr("data-badge")+"</span>"),a(d).hasClass("active")&&a(d).parents("ul").each(function(b,c){a(c).show(),a(c).siblings("div").children("span.opener").first().removeClass("closed").addClass("opened"),"#"!==a(c).find("a").attr("href")&&""!==a(c).find("a").attr("href")&&a(c).siblings("a").off("click.bs.tree")})})},f=function(b,c){var d=a(b).children("ul");d.length>0&&(d.hide(),a(b).children("div").prepend('<span class="opener closed"><span class="tree-icon-closed"><i class="'+c.navTreeCollapsed+' aria-hidden="true"></i></span><span class="tree-icon-opened"><i class="'+c.navTreeExpanded+'"></i></span></span>'),a(b).children("div").children("a").first().off("click.bs.tree").on("click.bs.tree",function(c){c.preventDefault();var d=a(this).children("span.opener").first();d.hasClass("closed")?(g(b),"#"!==a(this).children("a").attr("href")&&""!==a(this).children("a").attr("href")&&a(this).off("click.bs.tree")):h(b)}),a(b).children("div").children("span.opener").off("click.bs.tree").on("click.bs.tree",function(c){var d=a(this);d.hasClass("closed")?g(b):h(b)}))},g=function(b){var c=a(b).children("div").children("span.opener");c.removeClass("closed").addClass("opened"),a(b).children("ul").first().slideDown("fast")},h=function(b){var c=a(b).children("div").children("span.opener");c.removeClass("opened").addClass("closed"),a(b).children("ul").first().slideUp("fast")};a("ul[data-toggle=nav-tree]").each(function(){var b;b=a(this),b.navTree(b.data())})}(window.jQuery);